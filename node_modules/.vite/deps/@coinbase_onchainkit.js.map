{
  "version": 3,
  "sources": ["../../@coinbase/onchainkit/src/core/createWagmiConfig.ts", "../../@coinbase/onchainkit/src/internal/hooks/useProviderDependencies.tsx", "../../@coinbase/onchainkit/src/DefaultOnchainKitProviders.tsx", "../../@coinbase/onchainkit/src/OnchainKitProviderBoundary.tsx", "../../@coinbase/onchainkit/src/internal/utils/checkHashLength.ts", "../../@coinbase/onchainkit/src/utils/crypto.ts", "../../@farcaster/miniapp-wagmi-connector/dist/connector.js", "../../@coinbase/onchainkit/src/minikit/MiniKitProvider.tsx", "../../@coinbase/onchainkit/src/OnchainKitProvider.tsx"],
  "sourcesContent": ["import { http, cookieStorage, createConfig, createStorage } from 'wagmi';\nimport { base, baseSepolia } from 'wagmi/chains';\nimport { coinbaseWallet } from 'wagmi/connectors';\nimport type { CreateWagmiConfigParams } from './types';\n\n/**\n * createWagmiConfig returns a WagmiConfig (https://wagmi.sh/react/api/createConfig) using OnchainKit provided settings.\n * This function should only be used if the user does not provide WagmiProvider as a parent in the React context.\n */\nexport const createWagmiConfig = ({\n  apiKey,\n  appName,\n  appLogoUrl,\n  connectors = [\n    coinbaseWallet({\n      appName,\n      appLogoUrl,\n      preference: 'all',\n    }),\n  ],\n}: CreateWagmiConfigParams) => {\n  return createConfig({\n    chains: [base, baseSepolia],\n    connectors,\n    storage: createStorage({\n      storage: cookieStorage,\n    }),\n    ssr: true,\n    transports: {\n      [base.id]: apiKey\n        ? http(`https://api.developer.coinbase.com/rpc/v1/base/${apiKey}`)\n        : http(),\n      [baseSepolia.id]: apiKey\n        ? http(\n            `https://api.developer.coinbase.com/rpc/v1/base-sepolia/${apiKey}`,\n          )\n        : http(),\n    },\n  });\n};\n", "import { type QueryClient, useQueryClient } from '@tanstack/react-query';\nimport { useMemo } from 'react';\nimport { type Config, WagmiProviderNotFoundError, useConfig } from 'wagmi';\n\n/** useProviderDependencies will return the provided Wagmi configuration and QueryClient if they exist in the React context, otherwise it will return null\n * NotFound errors will fail gracefully\n * Unexpected errors will be logged to the console as an error, and will return null for the problematic dependency\n */\nexport function useProviderDependencies() {\n  /** Check the context for WagmiProvider\n   * Wagmi configuration defaults to the provided config if it exists\n   * Otherwise, use the OnchainKit-provided Wagmi configuration\n   */\n  let providedWagmiConfig: Config | null = null;\n  let providedQueryClient: QueryClient | null = null;\n\n  try {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    providedWagmiConfig = useConfig();\n  } catch (error) {\n    if (!(error instanceof WagmiProviderNotFoundError)) {\n      console.error('Error fetching WagmiProvider, using default:', error);\n    }\n  }\n\n  try {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    providedQueryClient = useQueryClient();\n  } catch (error) {\n    if (\n      !(\n        (error as Error).message ===\n        'No QueryClient set, use QueryClientProvider to set one'\n      )\n    ) {\n      console.error('Error fetching QueryClient, using default:', error);\n    }\n  }\n\n  return useMemo(() => {\n    return {\n      providedWagmiConfig,\n      providedQueryClient,\n    };\n  }, [providedWagmiConfig, providedQueryClient]);\n}\n", "import { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport {\n  type PropsWithChildren,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { Config, WagmiProvider } from 'wagmi';\nimport { baseAccount } from 'wagmi/connectors';\nimport { createWagmiConfig } from './core/createWagmiConfig';\nimport { useProviderDependencies } from './internal/hooks/useProviderDependencies';\nimport { useOnchainKit } from './useOnchainKit';\nimport type { CreateWagmiConfigParams } from './core/types';\n\nexport function DefaultOnchainKitProviders({\n  children,\n  connectors,\n}: PropsWithChildren<{ connectors?: CreateWagmiConfigParams['connectors'] }>) {\n  // Check the React context for WagmiProvider and QueryClientProvider\n  const { providedWagmiConfig, providedQueryClient } =\n    useProviderDependencies();\n\n  return (\n    <WagmiProviderWithDefault\n      providedWagmiConfig={providedWagmiConfig}\n      connectors={connectors}\n    >\n      <QueryClientProviderWithDefault providedQueryClient={providedQueryClient}>\n        {children}\n      </QueryClientProviderWithDefault>\n    </WagmiProviderWithDefault>\n  );\n}\n\nfunction WagmiProviderWithDefault({\n  children,\n  providedWagmiConfig,\n  connectors,\n}: PropsWithChildren<{\n  providedWagmiConfig: Config | null;\n  connectors?: CreateWagmiConfigParams['connectors'];\n}>) {\n  const onchainKitConfig = useOnchainKit();\n  const prevConnectorsRef =\n    useRef<CreateWagmiConfigParams['connectors']>(connectors);\n\n  const getWagmiConfig = useCallback(() => {\n    if (providedWagmiConfig) return providedWagmiConfig;\n\n    const appName = onchainKitConfig.config?.appearance?.name ?? undefined;\n    const appLogoUrl = onchainKitConfig.config?.appearance?.logo ?? undefined;\n\n    return createWagmiConfig({\n      apiKey: onchainKitConfig.apiKey ?? undefined,\n      appName,\n      appLogoUrl,\n      connectors: connectors ?? [\n        baseAccount({\n          appName,\n          appLogoUrl,\n        }),\n      ],\n    });\n  }, [\n    onchainKitConfig.apiKey,\n    onchainKitConfig.config,\n    connectors,\n    providedWagmiConfig,\n  ]);\n\n  const [config, setConfig] = useState(() => {\n    return getWagmiConfig();\n  });\n\n  useEffect(() => {\n    if (prevConnectorsRef.current !== connectors) {\n      setConfig(getWagmiConfig());\n      prevConnectorsRef.current = connectors;\n    }\n  }, [connectors, getWagmiConfig]);\n\n  if (providedWagmiConfig) {\n    return children;\n  }\n\n  return <WagmiProvider config={config}>{children}</WagmiProvider>;\n}\n\nfunction QueryClientProviderWithDefault({\n  children,\n  providedQueryClient,\n}: PropsWithChildren<{ providedQueryClient: QueryClient | null }>) {\n  const queryClient = useMemo(() => {\n    return providedQueryClient || new QueryClient();\n  }, [providedQueryClient]);\n\n  if (providedQueryClient) return children;\n\n  return (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  );\n}\n", "import {\n  Component,\n  type ComponentType,\n  type ErrorInfo,\n  type ReactNode,\n} from 'react';\nimport { sendAnalyticsPayload } from '@/core/analytics/utils/analyticsService';\nimport { ErrorEvent } from '@/core/analytics/types';\n\ntype Props = {\n  fallback?: ComponentType<{ error: Error }>;\n  children: ReactNode;\n};\n\ntype State = {\n  error: Error | null;\n};\n\nclass OnchainKitProviderBoundary extends Component<Props, State> {\n  state: State = {\n    error: null,\n  };\n\n  static getDerivedStateFromError(error: Error): State {\n    return { error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('Uncaught error:', error, errorInfo);\n\n    sendAnalyticsPayload(ErrorEvent.ComponentError, {\n      component: 'OnchainKitProviderBoundary',\n      error: error.message,\n      metadata: {\n        message: error.message,\n        stack: errorInfo.componentStack,\n      },\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      if (this.props.fallback) {\n        const Fallback = this.props.fallback;\n        return <Fallback error={this.state.error} />;\n      }\n      return <h1>Sorry, we had an unhandled error</h1>;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default OnchainKitProviderBoundary;\n", "/**\n * Checks if a given hash has a given length.\n * The hash must start with '0x' followed by hexadecimal characters (a-f, A-F, 0-9).\n */\nexport function checkHashLength(\n  hash: string, // hash to be checked\n  length: number, // length of hash\n): hash is `0x${string}` {\n  return new RegExp(`^0x[a-fA-F0-9]{${length}}$`).test(hash);\n}\n", "// Secure fallback using crypto.getRandomValues\nconst getRandomValues = (size: number) => {\n  const array = new Uint8Array(size);\n  crypto.getRandomValues(array);\n  return array;\n};\n\n/**\n * Generates a UUID using the crypto API if available, otherwise falls back to a\n * more insecure method. Only use this for non-critical purposes.\n *\n * @returns A UUID string that may not be cryptographically secure\n */\nexport const generateUUIDWithInsecureFallback = () => {\n  if (\n    typeof crypto !== 'undefined' &&\n    typeof crypto.randomUUID === 'function'\n  ) {\n    return crypto.randomUUID();\n  }\n\n  const bytes = getRandomValues(16);\n  // Format the random bytes into a UUID string\n  return (\n    bytes[0].toString(16).padStart(2, '0') +\n    bytes[1].toString(16).padStart(2, '0') +\n    bytes[2].toString(16).padStart(2, '0') +\n    bytes[3].toString(16).padStart(2, '0') +\n    '-' +\n    bytes[4].toString(16).padStart(2, '0') +\n    bytes[5].toString(16).padStart(2, '0') +\n    '-' +\n    ((bytes[6] & 0x0f) | 0x40).toString(16).padStart(2, '0') + // UUID version 4\n    bytes[7].toString(16).padStart(2, '0') +\n    '-' +\n    ((bytes[8] & 0x3f) | 0x80).toString(16).padStart(2, '0') + // UUID variant\n    bytes[9].toString(16).padStart(2, '0') +\n    '-' +\n    bytes[10].toString(16).padStart(2, '0') +\n    bytes[11].toString(16).padStart(2, '0') +\n    bytes[12].toString(16).padStart(2, '0') +\n    bytes[13].toString(16).padStart(2, '0') +\n    bytes[14].toString(16).padStart(2, '0') +\n    bytes[15].toString(16).padStart(2, '0')\n  );\n};\n", "import MiniAppSDK from '@farcaster/miniapp-sdk';\nimport { ChainNotConfiguredError, createConnector, } from '@wagmi/core';\nimport { fromHex, getAddress, numberToHex, SwitchChainError } from 'viem';\nfarcasterMiniApp.type = 'farcasterMiniApp';\nlet accountsChanged;\nlet chainChanged;\nlet disconnect;\nexport function farcasterMiniApp() {\n    return createConnector((config) => ({\n        id: 'farcaster',\n        name: 'Farcaster',\n        rdns: 'xyz.farcaster.MiniAppWallet',\n        icon: 'https://imagedelivery.net/BXluQx4ige9GuW0Ia56BHw/055c25d6-7fe7-4a49-abf9-49772021cf00/original',\n        type: farcasterMiniApp.type,\n        async connect({ chainId } = {}) {\n            const provider = await this.getProvider();\n            const accounts = await provider.request({\n                method: 'eth_requestAccounts',\n            });\n            let targetChainId = chainId;\n            if (!targetChainId) {\n                const state = (await config.storage?.getItem('state')) ?? {};\n                const isChainSupported = config.chains.some((x) => x.id === state.chainId);\n                if (isChainSupported)\n                    targetChainId = state.chainId;\n                else\n                    targetChainId = config.chains[0]?.id;\n            }\n            if (!targetChainId)\n                throw new Error('No chains found on connector.');\n            if (!accountsChanged) {\n                accountsChanged = this.onAccountsChanged.bind(this);\n                // @ts-expect-error - provider type is stricter\n                provider.on('accountsChanged', accountsChanged);\n            }\n            if (!chainChanged) {\n                chainChanged = this.onChainChanged.bind(this);\n                provider.on('chainChanged', chainChanged);\n            }\n            if (!disconnect) {\n                disconnect = this.onDisconnect.bind(this);\n                provider.on('disconnect', disconnect);\n            }\n            let currentChainId = await this.getChainId();\n            if (targetChainId && currentChainId !== targetChainId) {\n                const chain = await this.switchChain({ chainId: targetChainId });\n                currentChainId = chain.id;\n            }\n            return {\n                accounts: accounts.map((x) => getAddress(x)),\n                chainId: currentChainId,\n            };\n        },\n        async disconnect() {\n            const provider = await this.getProvider();\n            if (accountsChanged) {\n                // @ts-expect-error - provider type is stricter\n                provider.removeListener('accountsChanged', accountsChanged);\n                accountsChanged = undefined;\n            }\n            if (chainChanged) {\n                provider.removeListener('chainChanged', chainChanged);\n                chainChanged = undefined;\n            }\n            if (disconnect) {\n                provider.removeListener('disconnect', disconnect);\n                disconnect = undefined;\n            }\n        },\n        async getAccounts() {\n            const provider = await this.getProvider();\n            const accounts = await provider.request({\n                method: 'eth_accounts',\n            });\n            return accounts.map((x) => getAddress(x));\n        },\n        async getChainId() {\n            const provider = await this.getProvider();\n            const hexChainId = await provider.request({ method: 'eth_chainId' });\n            return fromHex(hexChainId, 'number');\n        },\n        async isAuthorized() {\n            try {\n                const accounts = await this.getAccounts();\n                return !!accounts.length;\n            }\n            catch {\n                return false;\n            }\n        },\n        async switchChain({ chainId }) {\n            const provider = await this.getProvider();\n            const chain = config.chains.find((x) => x.id === chainId);\n            if (!chain) {\n                throw new SwitchChainError(new ChainNotConfiguredError());\n            }\n            await provider.request({\n                method: 'wallet_switchEthereumChain',\n                params: [{ chainId: numberToHex(chainId) }],\n            });\n            // providers should start emitting these events - remove when hosts have upgraded\n            //\n            // explicitly emit this event as a workaround for ethereum provider not\n            // emitting events, can remove once events are flowing\n            config.emitter.emit('change', { chainId });\n            return chain;\n        },\n        onAccountsChanged(accounts) {\n            if (accounts.length === 0) {\n                this.onDisconnect();\n            }\n            else {\n                config.emitter.emit('change', {\n                    accounts: accounts.map((x) => getAddress(x)),\n                });\n            }\n        },\n        onChainChanged(chain) {\n            const chainId = Number(chain);\n            config.emitter.emit('change', { chainId });\n        },\n        async onDisconnect() {\n            config.emitter.emit('disconnect');\n        },\n        async getProvider() {\n            return MiniAppSDK.wallet.ethProvider;\n        },\n    }));\n}\n// Backward compatibility\nexport const farcasterFrame = farcasterMiniApp;\nfarcasterFrame.type = 'farcasterFrame';\n", "'use client';\nimport { DefaultOnchainKitProviders } from '@/DefaultOnchainKitProviders';\nimport { OnchainKitProvider } from '@/OnchainKitProvider';\nimport type { OnchainKitProviderReact } from '@/types';\nimport sdk, { type Context } from '@farcaster/frame-sdk';\nimport { farcasterFrame } from '@farcaster/miniapp-wagmi-connector';\nimport {\n  createContext,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { coinbaseWallet } from 'wagmi/connectors';\nimport type {\n  MiniKitContextType,\n  MiniKitProviderReact,\n  UpdateClientContextParams,\n} from './types';\nimport { AutoConnect } from './components/AutoConnect';\n\nexport const emptyContext = {} as MiniKitContextType;\n\nexport const MiniKitContext = createContext<MiniKitContextType>(emptyContext);\n\n/**\n * Provides the MiniKit React Context to the app.\n */\nexport function MiniKitProvider({\n  children,\n  notificationProxyUrl = '/api/notify',\n  autoConnect = true,\n  ...onchainKitProps\n}: MiniKitProviderReact & OnchainKitProviderReact) {\n  const [context, setContext] = useState<Context.MiniAppContext | null>(null);\n\n  useEffect(() => {\n    sdk.on('miniAppAdded', ({ notificationDetails }) => {\n      if (notificationDetails) {\n        updateClientContext({\n          details: notificationDetails,\n          frameAdded: true,\n        });\n      }\n    });\n\n    sdk.on('miniAppAddRejected', ({ reason }) => {\n      console.error('Mini app add rejected', reason);\n    });\n\n    sdk.on('miniAppRemoved', () => {\n      updateClientContext({\n        details: undefined,\n        frameAdded: false,\n      });\n    });\n\n    sdk.on('notificationsEnabled', ({ notificationDetails }) => {\n      updateClientContext({\n        details: notificationDetails,\n      });\n    });\n\n    sdk.on('notificationsDisabled', () => {\n      updateClientContext({\n        details: undefined,\n      });\n    });\n\n    async function fetchContext() {\n      try {\n        // if not running in a mini app, context resolves as undefined\n        const context = await sdk.context;\n        setContext(context);\n      } catch (error) {\n        console.error('Error fetching context:', error);\n      }\n    }\n\n    fetchContext();\n\n    return () => {\n      sdk.removeAllListeners();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const updateClientContext = useCallback(\n    ({ details, frameAdded }: UpdateClientContextParams) => {\n      setContext((prevContext) => {\n        if (!prevContext) {\n          return null;\n        }\n        return {\n          ...prevContext,\n          client: {\n            ...prevContext.client,\n            notificationDetails: details ?? undefined,\n            added: frameAdded ?? prevContext.client.added,\n          },\n        };\n      });\n    },\n    [],\n  );\n\n  const connectors = useMemo(() => {\n    return [\n      context // if context is set, the app is running in a frame, use farcasterFrame connector\n        ? farcasterFrame()\n        : coinbaseWallet({\n            appName: process.env.NEXT_PUBLIC_ONCHAINKIT_PROJECT_NAME,\n            appLogoUrl: process.env.NEXT_PUBLIC_ICON_URL,\n            preference: onchainKitProps.config?.wallet?.preference,\n          }),\n    ];\n  }, [context, onchainKitProps.config?.wallet?.preference]);\n\n  const value = useMemo(() => {\n    return {\n      context,\n      updateClientContext,\n      notificationProxyUrl,\n      __isMiniKit: true,\n    };\n  }, [updateClientContext, notificationProxyUrl, context]);\n\n  return (\n    <MiniKitContext.Provider value={value}>\n      <DefaultOnchainKitProviders connectors={connectors}>\n        <OnchainKitProvider {...onchainKitProps}>\n          <AutoConnect enabled={autoConnect}>\n            <div\n              style={{\n                paddingTop: context?.client.safeAreaInsets?.top ?? 0,\n                paddingBottom: context?.client.safeAreaInsets?.bottom ?? 0,\n                paddingLeft: context?.client.safeAreaInsets?.left ?? 0,\n                paddingRight: context?.client.safeAreaInsets?.right ?? 0,\n              }}\n            >\n              {children}\n            </div>\n          </AutoConnect>\n        </OnchainKitProvider>\n      </DefaultOnchainKitProviders>\n    </MiniKitContext.Provider>\n  );\n}\n", "'use client';\nimport { setOnchainKitConfig } from '@/core/OnchainKitConfig';\nimport { useContext, useEffect, useMemo } from 'react';\nimport { DefaultOnchainKitProviders } from './DefaultOnchainKitProviders';\nimport OnchainKitProviderBoundary from './OnchainKitProviderBoundary';\nimport { DEFAULT_PRIVACY_URL, DEFAULT_TERMS_URL } from './core/constants';\nimport { COINBASE_VERIFIED_ACCOUNT_SCHEMA_ID } from './identity/constants';\nimport { checkHashLength } from './internal/utils/checkHashLength';\nimport type { OnchainKitProviderReact } from './types';\nimport { generateUUIDWithInsecureFallback } from './utils/crypto';\nimport { OnchainKitContext } from './useOnchainKit';\nimport { clientMetaManager } from './core/clientMeta/clientMetaManager';\nimport { MiniKitContext } from './minikit/MiniKitProvider';\n\n/**\n * Provides the OnchainKit React Context to the app.\n */\nexport function OnchainKitProvider({\n  address,\n  analytics,\n  apiKey,\n  chain,\n  children,\n  config,\n  projectId,\n  rpcUrl,\n  schemaId,\n}: OnchainKitProviderReact) {\n  if (schemaId && !checkHashLength(schemaId, 64)) {\n    throw Error('EAS schemaId must be 64 characters prefixed with \"0x\"');\n  }\n\n  const sessionId = useMemo(() => generateUUIDWithInsecureFallback(), []);\n  const isMiniKit = !!useContext(MiniKitContext)?.__isMiniKit;\n\n  useEffect(() => {\n    if (clientMetaManager.isInitialized()) return;\n    clientMetaManager.init({ isMiniKit });\n  }, [isMiniKit]);\n\n  // eslint-disable-next-line complexity\n  const value = useMemo(() => {\n    const defaultPaymasterUrl = apiKey\n      ? `https://api.developer.coinbase.com/rpc/v1/${chain.name\n          .replace(' ', '-')\n          .toLowerCase()}/${apiKey}`\n      : null;\n    const onchainKitConfig = {\n      address: address ?? null,\n      apiKey: apiKey ?? null,\n      chain: chain,\n      config: {\n        analytics: analytics ?? true,\n        analyticsUrl: config?.analyticsUrl ?? null,\n        appearance: {\n          name: config?.appearance?.name ?? 'Dapp',\n          logo: config?.appearance?.logo ?? '',\n          mode: config?.appearance?.mode ?? 'auto',\n          theme: config?.appearance?.theme ?? 'default',\n        },\n        paymaster: config?.paymaster || defaultPaymasterUrl,\n        wallet: {\n          display: config?.wallet?.display ?? 'classic',\n          preference: config?.wallet?.preference ?? 'all',\n          signUpEnabled: config?.wallet?.signUpEnabled ?? true,\n          termsUrl: config?.wallet?.termsUrl || DEFAULT_TERMS_URL,\n          privacyUrl: config?.wallet?.privacyUrl || DEFAULT_PRIVACY_URL,\n          supportedWallets: {\n            rabby: config?.wallet?.supportedWallets?.rabby ?? false,\n            trust: config?.wallet?.supportedWallets?.trust ?? false,\n            frame: config?.wallet?.supportedWallets?.frame ?? false,\n          },\n        },\n      },\n      projectId: projectId ?? null,\n      rpcUrl: rpcUrl ?? null,\n      schemaId: schemaId ?? COINBASE_VERIFIED_ACCOUNT_SCHEMA_ID,\n      sessionId,\n    };\n    setOnchainKitConfig(onchainKitConfig);\n    return onchainKitConfig;\n  }, [\n    address,\n    analytics,\n    apiKey,\n    chain,\n    config,\n    projectId,\n    rpcUrl,\n    schemaId,\n    sessionId,\n  ]);\n\n  return (\n    <OnchainKitContext.Provider value={value}>\n      <DefaultOnchainKitProviders>\n        <OnchainKitProviderBoundary>{children}</OnchainKitProviderBoundary>\n      </DefaultOnchainKitProviders>\n    </OnchainKitContext.Provider>\n  );\n}\n"],
  "mappings": "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",
  "names": ["_a"]
}
