{"version":3,"file":"useGetFundingUrl.js","sources":["../../../src/fund/hooks/useGetFundingUrl.ts"],"sourcesContent":["import { useMemo } from 'react';\nimport { useAccount } from 'wagmi';\nimport { useOnchainKit } from '../../useOnchainKit';\nimport { useIsWalletACoinbaseSmartWallet } from '../../wallet/hooks/useIsWalletACoinbaseSmartWallet';\nimport { getCoinbaseSmartWalletFundUrl } from '../utils/getCoinbaseSmartWalletFundUrl';\nimport { getOnrampBuyUrl } from '../utils/getOnrampBuyUrl';\n\n/**\n * Gets the correct funding URL based on the connected wallet. If a Coinbase Smart Wallet is connected it will send the\n * user to keys.coinbase.com, otherwise it will send them to pay.coinbase.com.\n * @returns the funding URL and optional popup dimensions if the URL requires them\n */\nexport function useGetFundingUrl({\n  fiatCurrency,\n  originComponentName,\n}: {\n  fiatCurrency?: string;\n  originComponentName?: string;\n}): string | undefined {\n  const { projectId, chain: defaultChain } = useOnchainKit();\n  const { address, chain: accountChain } = useAccount();\n  const isCoinbaseSmartWallet = useIsWalletACoinbaseSmartWallet();\n\n  // If the connected wallet's active chain is not included in the Wagmi config, accountChain will be undefined. If this\n  // is the case, fall back to the default chain specified in the OnchainKit config.\n  const chain = accountChain || defaultChain;\n\n  return useMemo(() => {\n    if (isCoinbaseSmartWallet) {\n      return getCoinbaseSmartWalletFundUrl();\n    }\n\n    if (projectId === null || address === undefined) {\n      return undefined;\n    }\n\n    return getOnrampBuyUrl({\n      projectId,\n      addresses: { [address]: [chain.name.toLowerCase()] },\n      fiatCurrency,\n      originComponentName,\n    });\n  }, [\n    isCoinbaseSmartWallet,\n    projectId,\n    address,\n    chain,\n    fiatCurrency,\n    originComponentName,\n  ]);\n}\n"],"names":[],"mappings":";;;;;;AAYO,SAAS,iBAAiB;AAAA,EAC/B;AAAA,EACA;AACF,GAGuB;AACrB,QAAM,EAAE,WAAW,OAAO,aAAA,IAAiB,cAAc;AACzD,QAAM,EAAE,SAAS,OAAO,aAAA,IAAiB,WAAW;AACpD,QAAM,wBAAwB,gCAAgC;AAI9D,QAAM,QAAQ,gBAAgB;AAE9B,SAAO,QAAQ,MAAM;AACnB,QAAI,uBAAuB;AACzB,aAAO,8BAA8B;AAAA,IAAA;AAGnC,QAAA,cAAc,QAAQ,YAAY,QAAW;AACxC,aAAA;AAAA,IAAA;AAGT,WAAO,gBAAgB;AAAA,MACrB;AAAA,MACA,WAAW,EAAE,CAAC,OAAO,GAAG,CAAC,MAAM,KAAK,YAAY,CAAC,EAAE;AAAA,MACnD;AAAA,MACA;AAAA,IAAA,CACD;AAAA,EAAA,GACA;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AACH;"}