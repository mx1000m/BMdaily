{"version":3,"file":"SignatureButton.js","sources":["../../../src/signature/components/SignatureButton.tsx"],"sourcesContent":["import { ConnectWallet } from '@/wallet/components/ConnectWallet';\nimport { type ReactNode, useMemo } from 'react';\nimport { useAccount } from 'wagmi';\nimport { border, cn, color, pressable, text } from '../../styles/theme';\nimport { useSignatureContext } from './SignatureProvider';\n\ntype SignatureButtonProps = {\n  className?: string;\n  disabled?: boolean;\n  label?: ReactNode;\n  connectLabel?: ReactNode;\n  errorLabel?: ReactNode;\n  successLabel?: ReactNode;\n  pendingLabel?: ReactNode;\n};\n\nexport function SignatureButton({\n  className,\n  disabled = false,\n  label = 'Sign',\n  connectLabel = 'Connect Wallet',\n  errorLabel = 'Try again',\n  successLabel = 'Signed',\n  pendingLabel = 'Signing...',\n}: SignatureButtonProps) {\n  const { handleSign, lifecycleStatus } = useSignatureContext();\n  const { address } = useAccount();\n\n  const buttonLabel = useMemo(() => {\n    if (lifecycleStatus.statusName === 'pending') {\n      return pendingLabel;\n    }\n\n    if (lifecycleStatus.statusName === 'error') {\n      return errorLabel;\n    }\n\n    if (lifecycleStatus.statusName === 'success') {\n      return successLabel;\n    }\n\n    return label;\n  }, [\n    lifecycleStatus.statusName,\n    label,\n    errorLabel,\n    successLabel,\n    pendingLabel,\n  ]);\n\n  if (!address) {\n    return (\n      <ConnectWallet\n        className={cn('w-full', className)}\n        disconnectedLabel={connectLabel}\n      />\n    );\n  }\n\n  return (\n    <button\n      className={cn(\n        pressable.primary,\n        border.radius,\n        'w-full rounded-xl',\n        'px-4 py-3 font-medium leading-6',\n        disabled && pressable.disabled,\n        text.headline,\n        color.inverse,\n        className,\n      )}\n      type=\"button\"\n      onClick={handleSign}\n      disabled={disabled}\n    >\n      {buttonLabel}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAgBO,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,eAAe;AAAA,EACf,aAAa;AAAA,EACb,eAAe;AAAA,EACf,eAAe;AACjB,GAAyB;AACvB,QAAM,EAAE,YAAY,gBAAgB,IAAI,oBAAoB;AACtD,QAAA,EAAE,QAAQ,IAAI,WAAW;AAEzB,QAAA,cAAc,QAAQ,MAAM;AAC5B,QAAA,gBAAgB,eAAe,WAAW;AACrC,aAAA;AAAA,IAAA;AAGL,QAAA,gBAAgB,eAAe,SAAS;AACnC,aAAA;AAAA,IAAA;AAGL,QAAA,gBAAgB,eAAe,WAAW;AACrC,aAAA;AAAA,IAAA;AAGF,WAAA;AAAA,EAAA,GACN;AAAA,IACD,gBAAgB;AAAA,IAChB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AAED,MAAI,CAAC,SAAS;AAEV,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,GAAG,UAAU,SAAS;AAAA,QACjC,mBAAmB;AAAA,MAAA;AAAA,IACrB;AAAA,EAAA;AAKF,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,QACP;AAAA,QACA;AAAA,QACA,YAAY,UAAU;AAAA,QACtB,KAAK;AAAA,QACL,MAAM;AAAA,QACN;AAAA,MACF;AAAA,MACA,MAAK;AAAA,MACL,SAAS;AAAA,MACT;AAAA,MAEC,UAAA;AAAA,IAAA;AAAA,EACH;AAEJ;"}