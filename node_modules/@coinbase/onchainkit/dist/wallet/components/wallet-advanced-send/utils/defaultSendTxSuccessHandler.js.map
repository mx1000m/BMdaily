{"version":3,"file":"defaultSendTxSuccessHandler.js","sources":["../../../../../src/wallet/components/wallet-advanced-send/utils/defaultSendTxSuccessHandler.ts"],"sourcesContent":["import { getChainExplorer } from '@/core/network/getChainExplorer';\nimport type { Address, Chain, TransactionReceipt } from 'viem';\nimport { useChainId } from 'wagmi';\n\nexport function defaultSendTxSuccessHandler({\n  transactionId,\n  transactionHash,\n  senderChain,\n  address,\n  onComplete,\n}: {\n  transactionId: string | undefined;\n  transactionHash: string | undefined;\n  senderChain: Chain | undefined;\n  address: Address | undefined;\n  onComplete?: () => void;\n}) {\n  return (receipt: TransactionReceipt | undefined) => {\n    const accountChainId = senderChain?.id ?? useChainId();\n\n    // SW will have txn id so open in wallet\n    if (\n      receipt &&\n      transactionId &&\n      transactionHash &&\n      senderChain?.id &&\n      address\n    ) {\n      const url = new URL('https://wallet.coinbase.com/assets/transactions');\n      url.searchParams.set('contentParams[txHash]', transactionHash);\n      url.searchParams.set(\n        'contentParams[chainId]',\n        JSON.stringify(senderChain?.id),\n      );\n      url.searchParams.set('contentParams[fromAddress]', address);\n      window.open(url, '_blank', 'noopener,noreferrer');\n    } else {\n      // EOA will not have txn id so open in explorer\n      const chainExplorer = getChainExplorer(accountChainId);\n      window.open(\n        `${chainExplorer}/tx/${transactionHash}`,\n        '_blank',\n        'noopener,noreferrer',\n      );\n    }\n\n    // After opening the transaction in the wallet or explorer, take an action (default: close the send modal)\n    onComplete?.();\n  };\n}\n"],"names":[],"mappings":";;AAIO,SAAS,4BAA4B;AAAA,EAC1C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAMG;AACD,SAAO,CAAC,YAA4C;AAC5C,UAAA,kBAAiB,2CAAa,OAAM,WAAW;AAGrD,QACE,WACA,iBACA,oBACA,2CAAa,OACb,SACA;AACM,YAAA,MAAM,IAAI,IAAI,iDAAiD;AACjE,UAAA,aAAa,IAAI,yBAAyB,eAAe;AAC7D,UAAI,aAAa;AAAA,QACf;AAAA,QACA,KAAK,UAAU,2CAAa,EAAE;AAAA,MAChC;AACI,UAAA,aAAa,IAAI,8BAA8B,OAAO;AACnD,aAAA,KAAK,KAAK,UAAU,qBAAqB;AAAA,IAAA,OAC3C;AAEC,YAAA,gBAAgB,iBAAiB,cAAc;AAC9C,aAAA;AAAA,QACL,GAAG,aAAa,OAAO,eAAe;AAAA,QACtC;AAAA,QACA;AAAA,MACF;AAAA,IAAA;AAIW;AAAA,EACf;AACF;"}