{"version":3,"file":"SendTokenSelector.js","sources":["../../../../../src/wallet/components/wallet-advanced-send/components/SendTokenSelector.tsx"],"sourcesContent":["'use client';\n\nimport { border, cn, color, pressable, text } from '@/styles/theme';\nimport { TokenBalance } from '@/token';\nimport { formatUnits } from 'viem';\nimport { useSendContext } from './SendProvider';\nimport { RequestContext } from '@/core/network/constants';\nimport { useAccount } from 'wagmi';\nimport { usePortfolio } from '@/wallet/hooks/usePortfolio';\n\ntype SendTokenSelectorProps = {\n  classNames?: {\n    container?: string;\n    tokenName?: string;\n    tokenValue?: string;\n    fiatValue?: string;\n    action?: string;\n  };\n};\n\nexport function SendTokenSelector({ classNames }: SendTokenSelectorProps) {\n  const { address } = useAccount();\n  const { data: portfolioData } = usePortfolio(\n    { address },\n    RequestContext.Wallet,\n  );\n  const tokenBalances = portfolioData?.tokenBalances;\n\n  const {\n    selectedToken,\n    handleTokenSelection,\n    handleResetTokenSelection,\n    setSelectedInputType,\n    handleCryptoAmountChange,\n    handleFiatAmountChange,\n  } = useSendContext();\n\n  if (!selectedToken) {\n    return (\n      <div className=\"mt-4 flex max-h-80 flex-col gap-2\">\n        <span className={cn(text.caption, color.foregroundMuted, 'uppercase')}>\n          Select a token\n        </span>\n        <div className=\"scrollbar-hidden overflow-y-auto\">\n          {tokenBalances?.map((token) => (\n            <TokenBalance\n              key={token.address}\n              token={token}\n              onClick={handleTokenSelection}\n              subtitle=\"\"\n              classNames={{\n                container: cn(\n                  pressable.default,\n                  border.radius,\n                  classNames?.container,\n                ),\n                ...classNames,\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <TokenBalance\n      token={selectedToken}\n      showImage={true}\n      subtitle=\"available\"\n      onClick={handleResetTokenSelection}\n      onActionPress={() => {\n        setSelectedInputType('crypto');\n        handleFiatAmountChange(String(selectedToken.fiatBalance));\n        handleCryptoAmountChange(\n          String(\n            formatUnits(\n              BigInt(selectedToken.cryptoBalance),\n              selectedToken.decimals,\n            ),\n          ),\n        );\n      }}\n      classNames={{\n        container: cn(\n          pressable.alternate,\n          border.radius,\n          classNames?.container,\n        ),\n        ...classNames,\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAoBgB,SAAA,kBAAkB,EAAE,cAAsC;AAClE,QAAA,EAAE,QAAQ,IAAI,WAAW;AACzB,QAAA,EAAE,MAAM,cAAA,IAAkB;AAAA,IAC9B,EAAE,QAAQ;AAAA,IACV,eAAe;AAAA,EACjB;AACA,QAAM,gBAAgB,+CAAe;AAE/B,QAAA;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,MACE,eAAe;AAEnB,MAAI,CAAC,eAAe;AAEhB,WAAA,qBAAC,OAAI,EAAA,WAAU,qCACb,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAK,WAAW,GAAG,KAAK,SAAS,MAAM,iBAAiB,WAAW,GAAG,UAEvE,iBAAA,CAAA;AAAA,0BACC,OAAI,EAAA,WAAU,oCACZ,UAAe,+CAAA,IAAI,CAAC,UACnB;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC;AAAA,UACA,SAAS;AAAA,UACT,UAAS;AAAA,UACT,YAAY;AAAA,YACV,WAAW;AAAA,cACT,UAAU;AAAA,cACV,OAAO;AAAA,cACP,yCAAY;AAAA,YACd;AAAA,YACA,GAAG;AAAA,UAAA;AAAA,QACL;AAAA,QAXK,MAAM;AAAA,MAAA,GAcjB,CAAA;AAAA,IAAA,GACF;AAAA,EAAA;AAKF,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO;AAAA,MACP,WAAW;AAAA,MACX,UAAS;AAAA,MACT,SAAS;AAAA,MACT,eAAe,MAAM;AACnB,6BAAqB,QAAQ;AACN,+BAAA,OAAO,cAAc,WAAW,CAAC;AACxD;AAAA,UACE;AAAA,YACE;AAAA,cACE,OAAO,cAAc,aAAa;AAAA,cAClC,cAAc;AAAA,YAAA;AAAA,UAChB;AAAA,QAEJ;AAAA,MACF;AAAA,MACA,YAAY;AAAA,QACV,WAAW;AAAA,UACT,UAAU;AAAA,UACV,OAAO;AAAA,UACP,yCAAY;AAAA,QACd;AAAA,QACA,GAAG;AAAA,MAAA;AAAA,IACL;AAAA,EACF;AAEJ;"}