{"version":3,"file":"WalletDropdownFundLink.js","sources":["../../../src/wallet/components/WalletDropdownFundLink.tsx"],"sourcesContent":["'use client';\n\nimport { useCallback, useMemo } from 'react';\nimport { useGetFundingUrl } from '../../fund/hooks/useGetFundingUrl';\nimport { getFundingPopupSize } from '../../fund/utils/getFundingPopupSize';\nimport { useIcon } from '../../internal/hooks/useIcon';\nimport { openPopup } from '../../internal/utils/openPopup';\nimport { cn, color, pressable, text as themeText } from '../../styles/theme';\nimport type { WalletDropdownFundLinkReact } from '../types';\n\nexport function WalletDropdownFundLink({\n  className,\n  fundingUrl,\n  icon = 'fundWallet',\n  openIn = 'popup',\n  popupSize = 'md',\n  rel,\n  target,\n  text = 'Fund wallet',\n}: WalletDropdownFundLinkReact) {\n  // If we can't get a funding URL, this component will be a no-op and render a disabled link\n  const fundingUrlToRender =\n    fundingUrl ??\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useGetFundingUrl({\n      originComponentName: 'WalletDropdownFundLink',\n    });\n  const iconSvg = useIcon({ icon });\n\n  const handleClick = useCallback(\n    (e: React.MouseEvent) => {\n      e.preventDefault();\n      if (fundingUrlToRender) {\n        const { height, width } = getFundingPopupSize(\n          popupSize,\n          fundingUrlToRender,\n        );\n        openPopup({\n          url: fundingUrlToRender,\n          height,\n          width,\n          target,\n        });\n      }\n    },\n    [fundingUrlToRender, popupSize, target],\n  );\n\n  const overrideClassName = cn(\n    pressable.default,\n    color.foreground,\n    // Disable hover effects if there is no funding URL\n    !fundingUrlToRender && 'pointer-events-none',\n    'relative flex items-center px-4 py-3 w-full',\n    className,\n  );\n\n  const linkContent = useMemo(\n    () => (\n      // We put disabled on the content wrapper rather than the button/link because we dont wan't to change the\n      // background color of the dropdown item, just the text and icon\n      <span className={cn(!fundingUrlToRender && pressable.disabled)}>\n        <div className=\"-translate-y-1/2 absolute top-1/2 left-4 flex h-[1.125rem] w-[1.125rem] items-center justify-center\">\n          {iconSvg}\n        </div>\n        <span className={cn(themeText.body, 'pl-6')}>{text}</span>\n      </span>\n    ),\n    [fundingUrlToRender, iconSvg, text],\n  );\n\n  if (openIn === 'tab') {\n    return (\n      <a\n        className={overrideClassName}\n        href={fundingUrlToRender}\n        target={target}\n        rel={rel}\n      >\n        {linkContent}\n      </a>\n    );\n  }\n\n  return (\n    <button type=\"button\" className={overrideClassName} onClick={handleClick}>\n      {linkContent}\n    </button>\n  );\n}\n"],"names":["text","themeText"],"mappings":";;;;;;;AAUO,SAAS,uBAAuB;AAAA,EACrC;AAAA,EACA;AAAA,EACA,OAAO;AAAA,EACP,SAAS;AAAA,EACT,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EAAA,MACAA,SAAO;AACT,GAAgC;AAE9B,QAAM,qBACJ;AAAA,EAEA,iBAAiB;AAAA,IACf,qBAAqB;AAAA,EAAA,CACtB;AACH,QAAM,UAAU,QAAQ,EAAE,MAAM;AAEhC,QAAM,cAAc;AAAA,IAClB,CAAC,MAAwB;AACvB,QAAE,eAAe;AACjB,UAAI,oBAAoB;AAChB,cAAA,EAAE,QAAQ,MAAA,IAAU;AAAA,UACxB;AAAA,UACA;AAAA,QACF;AACU,kBAAA;AAAA,UACR,KAAK;AAAA,UACL;AAAA,UACA;AAAA,UACA;AAAA,QAAA,CACD;AAAA,MAAA;AAAA,IAEL;AAAA,IACA,CAAC,oBAAoB,WAAW,MAAM;AAAA,EACxC;AAEA,QAAM,oBAAoB;AAAA,IACxB,UAAU;AAAA,IACV,MAAM;AAAA;AAAA,IAEN,CAAC,sBAAsB;AAAA,IACvB;AAAA,IACA;AAAA,EACF;AAEA,QAAM,cAAc;AAAA,IAClB;AAAA;AAAA;AAAA,MAGE,qBAAC,UAAK,WAAW,GAAG,CAAC,sBAAsB,UAAU,QAAQ,GAC3D,UAAA;AAAA,QAAC,oBAAA,OAAA,EAAI,WAAU,uGACZ,UACH,SAAA;AAAA,QACA,oBAAC,UAAK,WAAW,GAAGC,KAAU,MAAM,MAAM,GAAI,UAAKD,OAAA,CAAA;AAAA,MAAA,EACrD,CAAA;AAAA;AAAA,IAEF,CAAC,oBAAoB,SAASA,MAAI;AAAA,EACpC;AAEA,MAAI,WAAW,OAAO;AAElB,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW;AAAA,QACX,MAAM;AAAA,QACN;AAAA,QACA;AAAA,QAEC,UAAA;AAAA,MAAA;AAAA,IACH;AAAA,EAAA;AAKF,SAAA,oBAAC,YAAO,MAAK,UAAS,WAAW,mBAAmB,SAAS,aAC1D,UACH,YAAA,CAAA;AAEJ;"}