{"version":3,"file":"WalletAdvancedWalletActions.js","sources":["../../../src/wallet/components/WalletAdvancedWalletActions.tsx"],"sourcesContent":["'use client';\n\nimport { useAnalytics } from '@/core/analytics/hooks/useAnalytics';\nimport { WalletEvent, WalletOption } from '@/core/analytics/types';\nimport { PressableIcon } from '@/internal/components/PressableIcon';\nimport { baseScanSvg } from '@/internal/svg/baseScanSvg';\nimport { disconnectSvg } from '@/internal/svg/disconnectSvg';\nimport { qrIconSvg } from '@/internal/svg/qrIconSvg';\nimport { refreshSvg } from '@/internal/svg/refreshSvg';\nimport { cn } from '@/styles/theme';\nimport { useCallback } from 'react';\nimport { useAccount, useDisconnect } from 'wagmi';\nimport { useWalletContext } from './WalletProvider';\nimport { usePortfolio } from '../hooks/usePortfolio';\nimport { RequestContext } from '@/core/network/constants';\n\ntype WalletAdvancedWalletActionsProps = {\n  classNames?: {\n    container?: string;\n    baseScanIcon?: string;\n    qrIcon?: string;\n    disconnectIcon?: string;\n    refreshIcon?: string;\n  };\n};\n\nexport function WalletAdvancedWalletActions({\n  classNames,\n}: WalletAdvancedWalletActionsProps) {\n  const { address } = useAccount();\n  const { handleClose, setActiveFeature, animations } = useWalletContext();\n  const { disconnect, connectors } = useDisconnect();\n  const { sendAnalytics } = useAnalytics();\n\n  const { refetch: refetchPortfolioData } = usePortfolio(\n    { address },\n    RequestContext.Wallet,\n  );\n\n  const handleAnalyticsOptionSelected = useCallback(\n    (option: WalletOption) => {\n      sendAnalytics(WalletEvent.OptionSelected, {\n        option,\n      });\n    },\n    [sendAnalytics],\n  );\n\n  const handleAnalyticsDisconnect = useCallback(\n    (walletProvider: string) => {\n      sendAnalytics(WalletEvent.Disconnect, {\n        component: 'WalletAdvanced',\n        walletProvider,\n      });\n    },\n    [sendAnalytics],\n  );\n\n  const handleTransactions = useCallback(() => {\n    handleAnalyticsOptionSelected(WalletOption.Explorer);\n    window.open(`https://basescan.org/address/${address}`, '_blank');\n  }, [address, handleAnalyticsOptionSelected]);\n\n  const handleDisconnect = useCallback(() => {\n    const walletProvider = connectors[0]?.name || 'unknown';\n    handleAnalyticsDisconnect(walletProvider);\n\n    handleClose();\n    for (const connector of connectors) {\n      disconnect({ connector });\n    }\n  }, [disconnect, connectors, handleClose, handleAnalyticsDisconnect]);\n\n  const handleQr = useCallback(() => {\n    handleAnalyticsOptionSelected(WalletOption.QR);\n    setActiveFeature('qr');\n  }, [setActiveFeature, handleAnalyticsOptionSelected]);\n\n  const handleRefreshPortfolioData = useCallback(async () => {\n    handleAnalyticsOptionSelected(WalletOption.Refresh);\n    await refetchPortfolioData();\n  }, [refetchPortfolioData, handleAnalyticsOptionSelected]);\n\n  return (\n    <div\n      data-testid=\"ockWalletAdvanced_WalletActions\"\n      className={cn(\n        'flex w-88 items-center justify-between px-4 py-3',\n        animations.content,\n        classNames?.container,\n      )}\n    >\n      <div className=\"flex items-center\">\n        <PressableIcon\n          ariaLabel=\"Open transaction history\"\n          onClick={handleTransactions}\n        >\n          <div\n            data-testid=\"ockWalletAdvanced_TransactionsButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.baseScanIcon)}\n          >\n            {baseScanSvg}\n          </div>\n        </PressableIcon>\n        <PressableIcon ariaLabel=\"Show QR code\" onClick={handleQr}>\n          <div\n            data-testid=\"ockWalletAdvanced_QrButton\"\n            className={cn('h-7 w-7 scale-110', classNames?.qrIcon)}\n          >\n            {qrIconSvg}\n          </div>\n        </PressableIcon>\n      </div>\n      <div className=\"flex items-center\">\n        <PressableIcon ariaLabel=\"Disconnect wallet\" onClick={handleDisconnect}>\n          <div\n            data-testid=\"ockWalletAdvanced_DisconnectButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.disconnectIcon)}\n          >\n            {disconnectSvg}\n          </div>\n        </PressableIcon>\n        <PressableIcon\n          ariaLabel=\"Refresh portfolio data\"\n          onClick={handleRefreshPortfolioData}\n        >\n          <div\n            data-testid=\"ockWalletAdvanced_RefreshButton\"\n            className={cn('h-7 w-7 scale-110 p-2', classNames?.refreshIcon)}\n          >\n            {refreshSvg}\n          </div>\n        </PressableIcon>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}