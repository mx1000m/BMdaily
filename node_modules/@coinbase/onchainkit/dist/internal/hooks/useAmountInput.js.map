{"version":3,"file":"useAmountInput.js","sources":["../../../src/internal/hooks/useAmountInput.tsx"],"sourcesContent":["import { truncateDecimalPlaces } from '@/internal/utils/truncateDecimalPlaces';\nimport { useCallback, useMemo } from 'react';\n\ntype UseAmountInputParams = {\n  setFiatAmount: (value: string) => void;\n  setCryptoAmount: (value: string) => void;\n  selectedInputType: 'fiat' | 'crypto';\n  exchangeRate: string;\n};\n\nexport const useAmountInput = ({\n  setFiatAmount,\n  setCryptoAmount,\n  selectedInputType,\n  exchangeRate,\n}: UseAmountInputParams) => {\n  const handleFiatChange = useCallback(\n    (value: string) => {\n      const fiatValue = truncateDecimalPlaces(value, 2);\n      setFiatAmount(fiatValue);\n\n      const calculatedCryptoValue = String(\n        Number(fiatValue) * Number(exchangeRate),\n      );\n      const resultCryptoValue = truncateDecimalPlaces(calculatedCryptoValue, 8);\n      setCryptoAmount(calculatedCryptoValue === '0' ? '' : resultCryptoValue);\n    },\n    [exchangeRate, setFiatAmount, setCryptoAmount],\n  );\n\n  const handleCryptoChange = useCallback(\n    (value: string) => {\n      const truncatedValue = truncateDecimalPlaces(value, 8);\n      setCryptoAmount(truncatedValue);\n\n      const calculatedFiatValue = String(\n        Number(truncatedValue) / Number(exchangeRate),\n      );\n\n      const resultFiatValue = truncateDecimalPlaces(calculatedFiatValue, 2);\n      setFiatAmount(resultFiatValue === '0' ? '' : resultFiatValue);\n    },\n    [exchangeRate, setFiatAmount, setCryptoAmount],\n  );\n\n  const handleChange = useCallback(\n    (value: string, onChange?: (value: string) => void) => {\n      if (selectedInputType === 'fiat') {\n        handleFiatChange(value);\n      } else {\n        handleCryptoChange(value);\n      }\n\n      onChange?.(value);\n    },\n    [handleFiatChange, handleCryptoChange, selectedInputType],\n  );\n\n  return useMemo(\n    () => ({\n      handleChange,\n      handleFiatChange,\n      handleCryptoChange,\n    }),\n    [handleChange, handleFiatChange, handleCryptoChange],\n  );\n};\n"],"names":[],"mappings":";;AAUO,MAAM,iBAAiB,CAAC;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,MAA4B;AAC1B,QAAM,mBAAmB;AAAA,IACvB,CAAC,UAAkB;AACX,YAAA,YAAY,sBAAsB,OAAO,CAAC;AAChD,oBAAc,SAAS;AAEvB,YAAM,wBAAwB;AAAA,QAC5B,OAAO,SAAS,IAAI,OAAO,YAAY;AAAA,MACzC;AACM,YAAA,oBAAoB,sBAAsB,uBAAuB,CAAC;AACxD,sBAAA,0BAA0B,MAAM,KAAK,iBAAiB;AAAA,IACxE;AAAA,IACA,CAAC,cAAc,eAAe,eAAe;AAAA,EAC/C;AAEA,QAAM,qBAAqB;AAAA,IACzB,CAAC,UAAkB;AACX,YAAA,iBAAiB,sBAAsB,OAAO,CAAC;AACrD,sBAAgB,cAAc;AAE9B,YAAM,sBAAsB;AAAA,QAC1B,OAAO,cAAc,IAAI,OAAO,YAAY;AAAA,MAC9C;AAEM,YAAA,kBAAkB,sBAAsB,qBAAqB,CAAC;AACtD,oBAAA,oBAAoB,MAAM,KAAK,eAAe;AAAA,IAC9D;AAAA,IACA,CAAC,cAAc,eAAe,eAAe;AAAA,EAC/C;AAEA,QAAM,eAAe;AAAA,IACnB,CAAC,OAAe,aAAuC;AACrD,UAAI,sBAAsB,QAAQ;AAChC,yBAAiB,KAAK;AAAA,MAAA,OACjB;AACL,2BAAmB,KAAK;AAAA,MAAA;AAG1B,2CAAW;AAAA,IACb;AAAA,IACA,CAAC,kBAAkB,oBAAoB,iBAAiB;AAAA,EAC1D;AAEO,SAAA;AAAA,IACL,OAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,IAEF,CAAC,cAAc,kBAAkB,kBAAkB;AAAA,EACrD;AACF;"}