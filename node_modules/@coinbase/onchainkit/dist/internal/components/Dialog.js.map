{"version":3,"file":"Dialog.js","sources":["../../../src/internal/components/Dialog.tsx"],"sourcesContent":["import { useTheme } from '@/internal/hooks/useTheme';\nimport { zIndex } from '@/styles/constants';\nimport { cn } from '@/styles/theme';\nimport type React from 'react';\nimport { useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { DismissableLayer } from './DismissableLayer';\nimport { FocusTrap } from './FocusTrap';\n\ntype DialogProps = {\n  children?: React.ReactNode;\n  isOpen?: boolean;\n  onClose?: () => void;\n  modal?: boolean;\n  'aria-label'?: string;\n  'aria-labelledby'?: string;\n  'aria-describedby'?: string;\n};\n\n/**\n * Dialog primitive that handles:\n * Portaling to document.body\n * Focus management (trapping focus within dialog)\n * Click outside and escape key dismissal\n * Proper ARIA attributes for accessibility\n */\nexport function Dialog({\n  children,\n  isOpen,\n  modal = true,\n  onClose,\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledby,\n  'aria-describedby': ariaDescribedby,\n}: DialogProps) {\n  const componentTheme = useTheme();\n  const dialogRef = useRef<HTMLDivElement>(null);\n\n  if (!isOpen) {\n    return null;\n  }\n\n  const dialog = (\n    <div\n      className={cn(\n        componentTheme,\n        zIndex.modal,\n        'fixed inset-0 flex items-center justify-center',\n        'bg-black/50 transition-opacity duration-200',\n        'fade-in animate-in duration-200',\n      )}\n      data-portal-origin=\"true\"\n    >\n      <FocusTrap active={isOpen}>\n        <DismissableLayer onDismiss={onClose}>\n          <div\n            aria-describedby={ariaDescribedby}\n            aria-label={ariaLabel}\n            aria-labelledby={ariaLabelledby}\n            aria-modal={modal}\n            className=\"zoom-in-95 animate-in duration-200\"\n            data-testid=\"ockDialog\"\n            onClick={(e) => e.stopPropagation()}\n            onKeyDown={(e: React.KeyboardEvent<HTMLDivElement>) => {\n              if (e.key === 'Enter' || e.key === ' ') {\n                e.stopPropagation();\n              }\n            }}\n            ref={dialogRef}\n            role=\"dialog\"\n          >\n            {children}\n          </div>\n        </DismissableLayer>\n      </FocusTrap>\n    </div>\n  );\n\n  return createPortal(dialog, document.body);\n}\n"],"names":[],"mappings":";;;;;;;;AA0BO,SAAS,OAAO;AAAA,EACrB;AAAA,EACA;AAAA,EACA,QAAQ;AAAA,EACR;AAAA,EACA,cAAc;AAAA,EACd,mBAAmB;AAAA,EACnB,oBAAoB;AACtB,GAAgB;AACd,QAAM,iBAAiB,SAAS;AAC1B,QAAA,YAAY,OAAuB,IAAI;AAE7C,MAAI,CAAC,QAAQ;AACJ,WAAA;AAAA,EAAA;AAGT,QAAM,SACJ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT;AAAA,QACA,OAAO;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MACA,sBAAmB;AAAA,MAEnB,8BAAC,WAAU,EAAA,QAAQ,QACjB,UAAC,oBAAA,kBAAA,EAAiB,WAAW,SAC3B,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,oBAAkB;AAAA,UAClB,cAAY;AAAA,UACZ,mBAAiB;AAAA,UACjB,cAAY;AAAA,UACZ,WAAU;AAAA,UACV,eAAY;AAAA,UACZ,SAAS,CAAC,MAAM,EAAE,gBAAgB;AAAA,UAClC,WAAW,CAAC,MAA2C;AACrD,gBAAI,EAAE,QAAQ,WAAW,EAAE,QAAQ,KAAK;AACtC,gBAAE,gBAAgB;AAAA,YAAA;AAAA,UAEtB;AAAA,UACA,KAAK;AAAA,UACL,MAAK;AAAA,UAEJ;AAAA,QAAA;AAAA,SAEL,EACF,CAAA;AAAA,IAAA;AAAA,EACF;AAGK,SAAA,aAAa,QAAQ,SAAS,IAAI;AAC3C;"}