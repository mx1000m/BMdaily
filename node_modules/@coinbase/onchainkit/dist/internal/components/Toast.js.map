{"version":3,"file":"Toast.js","sources":["../../../src/internal/components/Toast.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { background, cn } from '../../styles/theme';\nimport { CloseSvg } from '../svg/closeSvg';\nimport { getToastPosition } from '../utils/getToastPosition';\n\nexport type ToastProps = {\n  className?: string;\n  durationMs?: number;\n  startTimeout?: boolean;\n  position: 'top-center' | 'top-right' | 'bottom-center' | 'bottom-right';\n  animation?: 'animate-enterRight' | 'animate-enterUp' | 'animate-enterDown';\n  isVisible: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n};\n\nconst defaultAnimationByPosition = {\n  'top-center': 'animate-enterDown',\n  'top-right': 'animate-enterRight',\n  'bottom-center': 'animate-enterUp',\n  'bottom-right': 'animate-enterRight',\n};\n\nexport function Toast({\n  className,\n  durationMs = 5000,\n  startTimeout = true,\n  position = 'bottom-center',\n  animation,\n  isVisible,\n  onClose,\n  children,\n}: ToastProps) {\n  const positionClass = getToastPosition(position);\n  const animationClass = animation ?? defaultAnimationByPosition[position];\n\n  useEffect(() => {\n    if (startTimeout) {\n      const timer = setTimeout(() => {\n        if (isVisible) {\n          onClose();\n        }\n      }, durationMs);\n\n      return () => {\n        if (timer) {\n          clearTimeout(timer);\n        }\n      };\n    }\n  }, [durationMs, isVisible, onClose, startTimeout]);\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cn('-translate-x-2/4 fixed z-20', positionClass)}\n      data-testid=\"ockToastContainer\"\n    >\n      <div\n        className={cn(\n          background.default,\n          'flex items-center justify-between rounded-lg',\n          'p-2 shadow-[0px_8px_24px_0px_rgba(0,0,0,0.12)]',\n          animationClass,\n          className,\n        )}\n        data-testid=\"ockToast\"\n      >\n        <div className=\"flex items-center gap-4 p-2\">{children}</div>\n        <button\n          className=\"p-2\"\n          onClick={onClose}\n          type=\"button\"\n          data-testid=\"ockCloseButton\"\n        >\n          <CloseSvg />\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAgBA,MAAM,6BAA6B;AAAA,EACjC,cAAc;AAAA,EACd,aAAa;AAAA,EACb,iBAAiB;AAAA,EACjB,gBAAgB;AAClB;AAEO,SAAS,MAAM;AAAA,EACpB;AAAA,EACA,aAAa;AAAA,EACb,eAAe;AAAA,EACf,WAAW;AAAA,EACX;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAe;AACP,QAAA,gBAAgB,iBAAiB,QAAQ;AACzC,QAAA,iBAAiB,aAAa,2BAA2B,QAAQ;AAEvE,YAAU,MAAM;AACd,QAAI,cAAc;AACV,YAAA,QAAQ,WAAW,MAAM;AAC7B,YAAI,WAAW;AACL,kBAAA;AAAA,QAAA;AAAA,SAET,UAAU;AAEb,aAAO,MAAM;AACX,YAAI,OAAO;AACT,uBAAa,KAAK;AAAA,QAAA;AAAA,MAEtB;AAAA,IAAA;AAAA,KAED,CAAC,YAAY,WAAW,SAAS,YAAY,CAAC;AAEjD,MAAI,CAAC,WAAW;AACP,WAAA;AAAA,EAAA;AAIP,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,GAAG,+BAA+B,aAAa;AAAA,MAC1D,eAAY;AAAA,MAEZ,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAW;AAAA,YACT,WAAW;AAAA,YACX;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACF;AAAA,UACA,eAAY;AAAA,UAEZ,UAAA;AAAA,YAAC,oBAAA,OAAA,EAAI,WAAU,+BAA+B,SAAS,CAAA;AAAA,YACvD;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAS;AAAA,gBACT,MAAK;AAAA,gBACL,eAAY;AAAA,gBAEZ,8BAAC,UAAS,CAAA,CAAA;AAAA,cAAA;AAAA,YAAA;AAAA,UACZ;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,EACF;AAEJ;"}