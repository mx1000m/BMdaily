{"version":3,"file":"BuyTokenItem.js","sources":["../../../src/buy/components/BuyTokenItem.tsx"],"sourcesContent":["'use client';\nimport { useCallback, useMemo } from 'react';\nimport { getRoundedAmount } from '../../internal/utils/getRoundedAmount';\nimport { cn, color, pressable, text } from '../../styles/theme';\nimport type { SwapUnit } from '../../swap/types';\nimport { TokenImage } from '../../token';\nimport { useBuyContext } from './BuyProvider';\n\nexport function BuyTokenItem({ swapUnit }: { swapUnit?: SwapUnit }) {\n  const { handleSubmit, setIsDropdownOpen } = useBuyContext();\n\n  if (!swapUnit || !swapUnit.token) {\n    return null;\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const handleClick = useCallback(() => {\n    setIsDropdownOpen(false);\n    handleSubmit(swapUnit);\n  }, [handleSubmit, swapUnit, setIsDropdownOpen]);\n\n  const hasInsufficientBalance =\n    !swapUnit.balance ||\n    Number.parseFloat(swapUnit.balance) < Number.parseFloat(swapUnit.amount);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const roundedAmount = useMemo(() => {\n    if (!swapUnit.amount) {\n      return '';\n    }\n    return getRoundedAmount(swapUnit.amount, 10);\n  }, [swapUnit.amount]);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const roundedBalance = useMemo(() => {\n    return getRoundedAmount(swapUnit.balance || '0', 3);\n  }, [swapUnit.balance]);\n\n  return (\n    <button\n      className={cn(\n        'flex items-center gap-2 rounded-lg p-2',\n        !hasInsufficientBalance && pressable.default,\n        text.label2,\n      )}\n      onClick={handleClick}\n      type=\"button\"\n      disabled={hasInsufficientBalance}\n    >\n      <TokenImage token={swapUnit.token} size={36} />\n      <div\n        className={cn(\n          'flex flex-col items-start',\n          hasInsufficientBalance ? color.foregroundMuted : color.foreground,\n        )}\n      >\n        <div>\n          {roundedAmount} {swapUnit.token.name}\n        </div>\n        <div\n          className={cn(\n            'text-xs',\n            hasInsufficientBalance ? color.error : color.foregroundMuted,\n          )}\n        >{`${\n          hasInsufficientBalance ? 'Insufficient balance' : 'Balance'\n        }: ${roundedBalance}`}</div>\n      </div>\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAQgB,SAAA,aAAa,EAAE,YAAqC;AAClE,QAAM,EAAE,cAAc,kBAAkB,IAAI,cAAc;AAE1D,MAAI,CAAC,YAAY,CAAC,SAAS,OAAO;AACzB,WAAA;AAAA,EAAA;AAIH,QAAA,cAAc,YAAY,MAAM;AACpC,sBAAkB,KAAK;AACvB,iBAAa,QAAQ;AAAA,EACpB,GAAA,CAAC,cAAc,UAAU,iBAAiB,CAAC;AAE9C,QAAM,yBACJ,CAAC,SAAS,WACV,OAAO,WAAW,SAAS,OAAO,IAAI,OAAO,WAAW,SAAS,MAAM;AAGnE,QAAA,gBAAgB,QAAQ,MAAM;AAC9B,QAAA,CAAC,SAAS,QAAQ;AACb,aAAA;AAAA,IAAA;AAEF,WAAA,iBAAiB,SAAS,QAAQ,EAAE;AAAA,EAAA,GAC1C,CAAC,SAAS,MAAM,CAAC;AAGd,QAAA,iBAAiB,QAAQ,MAAM;AACnC,WAAO,iBAAiB,SAAS,WAAW,KAAK,CAAC;AAAA,EAAA,GACjD,CAAC,SAAS,OAAO,CAAC;AAGnB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT;AAAA,QACA,CAAC,0BAA0B,UAAU;AAAA,QACrC,KAAK;AAAA,MACP;AAAA,MACA,SAAS;AAAA,MACT,MAAK;AAAA,MACL,UAAU;AAAA,MAEV,UAAA;AAAA,QAAA,oBAAC,YAAW,EAAA,OAAO,SAAS,OAAO,MAAM,IAAI;AAAA,QAC7C;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW;AAAA,cACT;AAAA,cACA,yBAAyB,MAAM,kBAAkB,MAAM;AAAA,YACzD;AAAA,YAEA,UAAA;AAAA,cAAA,qBAAC,OACE,EAAA,UAAA;AAAA,gBAAA;AAAA,gBAAc;AAAA,gBAAE,SAAS,MAAM;AAAA,cAAA,GAClC;AAAA,cACA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,WAAW;AAAA,oBACT;AAAA,oBACA,yBAAyB,MAAM,QAAQ,MAAM;AAAA,kBAC/C;AAAA,kBACA,UACA,GAAA,yBAAyB,yBAAyB,SACpD,KAAK,cAAc;AAAA,gBAAA;AAAA,cAAA;AAAA,YAAG;AAAA,UAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA;AAAA,EACF;AAEJ;"}