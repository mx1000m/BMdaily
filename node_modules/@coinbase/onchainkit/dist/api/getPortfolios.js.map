{"version":3,"file":"getPortfolios.js","sources":["../../src/api/getPortfolios.ts"],"sourcesContent":["import { RequestContext } from '@/core/network/constants';\nimport { CDP_GET_PORTFOLIO_TOKEN_BALANCES } from '@/core/network/definitions/wallet';\nimport { sendRequest } from '@/core/network/request';\nimport type {\n  APIError,\n  GetPortfoliosParams,\n  GetPortfoliosResponse,\n} from './types';\n\n/**\n * Retrieves the portfolios for the provided addresses\n * Supported networks: Base mainnet and Ethereum mainnet\n */\nexport async function getPortfolios(\n  params: GetPortfoliosParams,\n  _context: RequestContext = RequestContext.API,\n): Promise<GetPortfoliosResponse | APIError> {\n  const { addresses } = params;\n\n  try {\n    const res = await sendRequest<GetPortfoliosParams, GetPortfoliosResponse>(\n      CDP_GET_PORTFOLIO_TOKEN_BALANCES,\n      [{ addresses }],\n      _context,\n    );\n    if (res.error) {\n      return {\n        code: `${res.error.code}`,\n        error: 'Error fetching portfolio token balances',\n        message: res.error.message,\n      };\n    }\n    return res.result;\n  } catch (error) {\n    return {\n      code: 'uncaught-portfolio',\n      error: 'Something went wrong',\n      message: `Error fetching portfolio token balances: ${error}`,\n    };\n  }\n}\n"],"names":[],"mappings":";;;AAaA,eAAsB,cACpB,QACA,WAA2B,eAAe,KACC;AACrC,QAAA,EAAE,cAAc;AAElB,MAAA;AACF,UAAM,MAAM,MAAM;AAAA,MAChB;AAAA,MACA,CAAC,EAAE,UAAA,CAAW;AAAA,MACd;AAAA,IACF;AACA,QAAI,IAAI,OAAO;AACN,aAAA;AAAA,QACL,MAAM,GAAG,IAAI,MAAM,IAAI;AAAA,QACvB,OAAO;AAAA,QACP,SAAS,IAAI,MAAM;AAAA,MACrB;AAAA,IAAA;AAEF,WAAO,IAAI;AAAA,WACJ,OAAO;AACP,WAAA;AAAA,MACL,MAAM;AAAA,MACN,OAAO;AAAA,MACP,SAAS,4CAA4C,KAAK;AAAA,IAC5D;AAAA,EAAA;AAEJ;"}