{"version":3,"file":"crypto.js","sources":["../../src/utils/crypto.ts"],"sourcesContent":["// Secure fallback using crypto.getRandomValues\nconst getRandomValues = (size: number) => {\n  const array = new Uint8Array(size);\n  crypto.getRandomValues(array);\n  return array;\n};\n\n/**\n * Generates a UUID using the crypto API if available, otherwise falls back to a\n * more insecure method. Only use this for non-critical purposes.\n *\n * @returns A UUID string that may not be cryptographically secure\n */\nexport const generateUUIDWithInsecureFallback = () => {\n  if (\n    typeof crypto !== 'undefined' &&\n    typeof crypto.randomUUID === 'function'\n  ) {\n    return crypto.randomUUID();\n  }\n\n  const bytes = getRandomValues(16);\n  // Format the random bytes into a UUID string\n  return (\n    bytes[0].toString(16).padStart(2, '0') +\n    bytes[1].toString(16).padStart(2, '0') +\n    bytes[2].toString(16).padStart(2, '0') +\n    bytes[3].toString(16).padStart(2, '0') +\n    '-' +\n    bytes[4].toString(16).padStart(2, '0') +\n    bytes[5].toString(16).padStart(2, '0') +\n    '-' +\n    ((bytes[6] & 0x0f) | 0x40).toString(16).padStart(2, '0') + // UUID version 4\n    bytes[7].toString(16).padStart(2, '0') +\n    '-' +\n    ((bytes[8] & 0x3f) | 0x80).toString(16).padStart(2, '0') + // UUID variant\n    bytes[9].toString(16).padStart(2, '0') +\n    '-' +\n    bytes[10].toString(16).padStart(2, '0') +\n    bytes[11].toString(16).padStart(2, '0') +\n    bytes[12].toString(16).padStart(2, '0') +\n    bytes[13].toString(16).padStart(2, '0') +\n    bytes[14].toString(16).padStart(2, '0') +\n    bytes[15].toString(16).padStart(2, '0')\n  );\n};\n"],"names":[],"mappings":"AACA,MAAM,kBAAkB,CAAC,SAAiB;AAClC,QAAA,QAAQ,IAAI,WAAW,IAAI;AACjC,SAAO,gBAAgB,KAAK;AACrB,SAAA;AACT;AAQO,MAAM,mCAAmC,MAAM;AACpD,MACE,OAAO,WAAW,eAClB,OAAO,OAAO,eAAe,YAC7B;AACA,WAAO,OAAO,WAAW;AAAA,EAAA;AAGrB,QAAA,QAAQ,gBAAgB,EAAE;AAEhC,SACE,MAAM,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACrC,MAAM,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACrC,MAAM,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACrC,MAAM,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACrC,MACA,MAAM,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACrC,MAAM,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACrC,OACE,MAAM,CAAC,IAAI,KAAQ,IAAM,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG;AAAA,EACvD,MAAM,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACrC,OACE,MAAM,CAAC,IAAI,KAAQ,KAAM,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG;AAAA,EACvD,MAAM,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACrC,MACA,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACtC,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACtC,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACtC,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACtC,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,IACtC,MAAM,EAAE,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG;AAE1C;"}