{"version":3,"file":"getOutput.js","sources":["../../../../src/appchain/bridge/utils/getOutput.ts"],"sourcesContent":["import type { Chain } from 'viem';\nimport type { Config } from 'wagmi';\nimport { readContract } from 'wagmi/actions';\nimport { L2OutputOracleABI } from '../abi';\nimport type { AppchainConfig } from '../types';\n\nexport const getOutput = async ({\n  config,\n  chain,\n  wagmiConfig,\n}: {\n  config: AppchainConfig;\n  chain: Chain;\n  wagmiConfig: Config;\n}) => {\n  const outputIndex = await readContract(wagmiConfig, {\n    address: config.contracts.l2OutputOracle,\n    abi: L2OutputOracleABI,\n    functionName: 'latestOutputIndex',\n    args: [],\n    chainId: chain.id,\n  });\n\n  const output = await readContract(wagmiConfig, {\n    address: config.contracts.l2OutputOracle,\n    abi: L2OutputOracleABI,\n    functionName: 'getL2Output',\n    args: [outputIndex],\n    chainId: chain.id,\n  });\n\n  return {\n    outputIndex,\n    ...output,\n  };\n};\n"],"names":[],"mappings":";;AAMO,MAAM,YAAY,OAAO;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AACF,MAIM;AACE,QAAA,cAAc,MAAM,aAAa,aAAa;AAAA,IAClD,SAAS,OAAO,UAAU;AAAA,IAC1B,KAAK;AAAA,IACL,cAAc;AAAA,IACd,MAAM,CAAC;AAAA,IACP,SAAS,MAAM;AAAA,EAAA,CAChB;AAEK,QAAA,SAAS,MAAM,aAAa,aAAa;AAAA,IAC7C,SAAS,OAAO,UAAU;AAAA,IAC1B,KAAK;AAAA,IACL,cAAc;AAAA,IACd,MAAM,CAAC,WAAW;AAAA,IAClB,SAAS,MAAM;AAAA,EAAA,CAChB;AAEM,SAAA;AAAA,IACL;AAAA,IACA,GAAG;AAAA,EACL;AACF;"}