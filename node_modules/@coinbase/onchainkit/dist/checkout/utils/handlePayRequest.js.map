{"version":3,"file":"handlePayRequest.js","sources":["../../../src/checkout/utils/handlePayRequest.ts"],"sourcesContent":["import { buildPayTransaction } from '@/api';\nimport type { BuildPayTransactionParams } from '@/api';\nimport { RequestContext } from '@/core/network/constants';\nimport type { HandlePayRequestParams } from '../types';\n\nexport const handlePayRequest = async ({\n  address,\n  chargeHandler,\n  productId,\n}: HandlePayRequestParams) => {\n  const buildPayTransactionParams: BuildPayTransactionParams = {\n    address,\n  };\n\n  if (chargeHandler) {\n    buildPayTransactionParams.chargeId = await chargeHandler();\n  } else if (productId) {\n    buildPayTransactionParams.productId = productId;\n  }\n\n  const response = await buildPayTransaction(\n    buildPayTransactionParams,\n    RequestContext.Checkout,\n  );\n\n  if ('error' in response) {\n    throw new Error(response.error);\n  }\n\n  return response;\n};\n"],"names":[],"mappings":";;;;AAKO,MAAM,mBAAmB,OAAO;AAAA,EACrC;AAAA,EACA;AAAA,EACA;AACF,MAA8B;AAC5B,QAAM,4BAAuD;AAAA,IAC3D;AAAA,EACF;AAEA,MAAI,eAAe;AACS,8BAAA,WAAW,MAAM,cAAc;AAAA,aAChD,WAAW;AACpB,8BAA0B,YAAY;AAAA,EAAA;AAGxC,QAAM,WAAW,MAAM;AAAA,IACrB;AAAA,IACA,eAAe;AAAA,EACjB;AAEA,MAAI,WAAW,UAAU;AACjB,UAAA,IAAI,MAAM,SAAS,KAAK;AAAA,EAAA;AAGzB,SAAA;AACT;"}