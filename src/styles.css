@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

:root {
	--bg: #000000;
	--fg: #538aff;
	/* OnchainKit font override */
	--ock-font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
}

/* utility: white link that underlines on hover */
.link-underline { color: #ffffff; text-decoration: none; }
.link-underline:hover { text-decoration: underline; }

/* utility: fixed top with safe-area support */
.fix-top { position: fixed; top: 0; right: 15px; z-index: 10; }
@supports (top: env(safe-area-inset-top)) {
	.fix-top { top: env(safe-area-inset-top); }
}
@supports (top: constant(safe-area-inset-top)) {
	.fix-top { top: constant(safe-area-inset-top); }
}

html, body, #root {
	height: 100%;
	margin: 0;
	background: var(--bg);
	color: var(--fg);
	font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
	/* prevent text selection / callouts on mobile */
	user-select: none;
	-webkit-user-select: none;
	-webkit-touch-callout: none;
	-webkit-tap-highlight-color: transparent;
	/* prevent page scroll while playing */
	overflow: hidden;
	overscroll-behavior: none;
	/* blue glow for all text */
	text-shadow: 0 0 6px #538aff, 0 0 12px rgba(83,138,255,0.6);
}

/* Mobile tweaks */
@media (max-width: 768px) {
	/* Slightly smaller text in identity card on mobile */
	.identity-card-mobile { font-size: 13px; }
	/* Pin to very top and center horizontally on mobile */
	.identity-card-mobile.fix-top { top: 0 !important; left: 50% !important; right: auto !important; transform: translateX(-50%) !important; }
	/* Utility to push elements down by 25px on mobile */
	.mobile-push-25 { margin-top: 25px !important; }
	/* New: push elements down by 12px on mobile */
	.mobile-push-12 { margin-top: 12px !important; }
	/* New: push elements down by 8px on mobile (one-third reduction) */
	.mobile-push-8 { margin-top: 8px !important; }
	/* Push the logo further so it doesn't sit behind the fixed identity card */
	.logo-mobile-offset { margin-top: 70px !important; }
	/* Tighter logo bottom margin to reduce spacing with the button */
	.logo-mobile-tight { margin-bottom: 16px !important; }
	/* Prevent basename from wrapping so we can expand width to fit one line */
	.identity-card-mobile [data-testid="name"] { white-space: nowrap !important; }
}

.app-root {
	display: flex;
	flex-direction: column;
	height: 100%;
	/* avoid browser gestures scrolling */
	touch-action: none;
	position: relative;
}

.app-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 8px 12px;
	border-bottom: 1px solid var(--fg);
}

.app-header h1 { font-size: 24px; margin: 0; }
.app-header h1 { text-shadow: 0 0 2px rgba(83,138,255,0.35); }

.app-main {
	flex: 1;
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 8px;
	min-height: 100svh; /* mobile-friendly viewport height for proper vertical centering */
	/* Top layer: gradient overlay; Bottom layers: two copies of the world map for seamless scroll */
	background-image: url('/gradient.png'), url('/world_dots.png'), url('/world_dots.png');
	background-repeat: no-repeat, repeat-x, repeat-x; /* gradient never repeats; maps repeat horizontally */
	background-position: center center, 0% center, 100% center; /* two map layers offset */
	background-size: cover, auto 100%, auto 100%; /* gradient covers; maps scale to full height */
	background-blend-mode: screen, normal, normal; /* screen blend for gradient over the maps */
	animation: worldRotate 60s linear infinite;
	will-change: background-position;
}

@keyframes worldRotate {
	0%   { background-position: center center, 0% center, 100% center; }
	100% { background-position: center center, -100% center, 0% center; }
}

@media (max-width: 768px) {
	/* Nudge content slightly upward on mobile for better visual balance */
	.app-main { padding-top: 4svh; padding-bottom: 0; }
	
	/* Center identity card horizontally on mobile */
	.identity-card-mobile {
		position: absolute !important;
		top: 15px !important;
		left: 50% !important;
		right: auto !important;
		transform: translateX(-50%) !important;
	}
}

.bb-falling-bg {
	position: absolute;
	width: 1000px;
	height: 1000px;
	left: 50%;
	transform: translateX(-50%);
	top: 0;
	z-index: 0;
	pointer-events: none;
}

@media (max-width: 768px) {
	.bb-falling-bg { width: 420px; height: 780px; }
}

@media (max-width: 430px) {
	.bb-falling-bg { width: 380px; height: 720px; }
}

.app-header, .app-main { position: relative; z-index: 1; }

.landing-root { display: flex; flex-direction: column; align-items: center; gap: 16px; width: 100%; }
.landing-title { margin: 0; font-size: 28px; }
.landing-sub { opacity: 0.8; margin: 0; }
.landing-card { border: 1px solid var(--fg); padding: 16px; border-radius: 8px; display: flex; flex-direction: column; gap: 16px; width: min(480px, 90vw); }
.wallet-row { display: flex; gap: 12px; align-items: center; justify-content: center; }
.wallet-address { font-size: 16px; opacity: 0.9; }
.actions { display: flex; flex-direction: column; gap: 12px; }
.btn { font-family: inherit; font-size: 18px; padding: 10px 12px; color: var(--fg); background: transparent; border: 1px solid var(--fg); border-radius: 6px; }
.btn.primary { box-shadow: 0 0 8px rgba(83,138,255,0.5); }
.btn.ghost { opacity: 0.8; }

.vt100-container { display: grid; grid-template-columns: 1fr auto 1fr; gap: 12px; width: 100%; max-width: 480px; }
.vt100-topstats { grid-column: 2; font-size: 18px; margin: 20px 0; text-align: center; }

.vt100-touchpad { grid-column: 2; display: flex; flex-direction: column; align-items: stretch; touch-action: none; user-select: none; }
.vt100-board { display: flex; flex-direction: column; align-items: center; }
.vt100-touchpad-extend { height: 120px; }
.vt100-row, .vt100-cell, .vt100-brick, .vt100-border, .vt100-bottom, .vt100-bottom-line, .vt100-bottom-vs {
	user-select: none;
	-webkit-user-select: none;
}
.vt100-row { display: flex; align-items: center; }
.vt100-cell { display: inline-block; width: 2ch; text-align: center; opacity: 0.35; text-shadow: 0 0 4px #538aff, 0 0 8px rgba(83,138,255,0.5); position: relative; z-index: 0; }
.vt100-brick { display: inline-block; width: 2ch; text-align: center; opacity: 1; text-shadow: 0 0 6px #538aff, 0 0 12px rgba(83,138,255,0.8); color: var(--fg); position: relative; z-index: 1; }
.vt100-ghost { display: inline-block; width: 2ch; text-align: center; opacity: 0.2; filter: blur(0.3px); text-shadow: 0 0 3px rgba(83,138,255,0.6); }

.vt100-highlight {
	display: inline-block;
	width: 2ch;
	text-align: center;
	color: rgba(62,140,255,0.40); /* dot visible */
	text-shadow: 0 0 3px rgba(62,140,255,0.35);
	position: relative;
	z-index: 10; /* above bricks */
	pointer-events: none;
}
.vt100-highlight::before {
	content: '';
	position: absolute;
	inset: 0; /* no overlap between adjacent cells to avoid bright seams */
	background: rgba(62,140,255,0.15);
	border-radius: 0;
	z-index: -1; /* behind the cell's glyph but within the highlight stacking context */
}
.vt100-border { display: inline-block; text-align: center; opacity: 0.8; text-shadow: 0 0 5px #538aff; }
.vt100-bottom { margin-top: 8px; display: flex; align-items: center; justify-content: center; }
.vt100-bottom-line { display: inline-block; }
.vt100-bottom-vs { margin-top: 8px; text-align: center; }

.vt100-controls { grid-column: 1 / -1; display: flex; justify-content: space-between; gap: 8px; margin-top: 16px; }
.vt100-controls button { flex: 1; font-family: inherit; font-size: 20px; padding: 8px; color: var(--fg); background: transparent; border: 1px solid var(--fg); border-radius: 6px; box-shadow: 0 0 8px rgba(83,138,255,0.5); }
.vt100-controls button:active { background: rgba(52,255,52,0.15); }

@media (max-width: 420px) {
	.app-header h1 { font-size: 18px; }
	.vt100-side { font-size: 16px; }
}

/* OnchainKit button theme override */
.ock-btn, .ock-button, .ock-connect-wallet, .ock-flex .ock-btn, button.ock-btn-primary {
	background-color: #538aff !important;
	border-color: #538aff !important;
	color: #ffffff !important;
	box-shadow: 0 0 12px rgba(83,138,255,0.6) !important;
}

/* Remove global glow inside the modal */
.ock-modal *, .ock-modal h1, .ock-modal h2, .ock-modal h3, .ock-modal p, .ock-modal a {
	text-shadow: none !important;
}

/* Prevent modal from being closed until wallet is connected */
.ock-modal [data-testid="modal-close-button"],
.ock-modal [aria-label="Close"],
.ock-modal button[aria-label="Close"],
.ock-modal .close-button {
	display: none !important;
}

/* Hide backdrop click to close */
.ock-modal-backdrop {
	pointer-events: none !important;
}

/* Ensure modal stays open */
.ock-modal {
	pointer-events: auto !important;
}

/* IdentityCard theming to match our dark UI */
.bb-identity { 
	background: #090d14 !important; 
	border: 1px solid #1e2a44 !important; 
	border-radius: 8px; 
	padding: 8px; 
	color: #e6f0ff !important; 
}
.bb-identity * { text-shadow: none !important; }
.bb-identity [class*='text-'], .bb-identity p, .bb-identity span { color: #e6f0ff !important; }
/* Hide OnchainKit copy pill/button inside our identity card */
.bb-identity [class*='copy'],
.bb-identity [aria-label='Copy'],
.bb-identity button[title='Copy'],
.bb-identity .ock-copy,
.bb-identity .ock-tooltip {
	display: none !important;
}

/* Ensure Name component shows white text */
.text-white {
	color: #ffffff !important;
}

/* Force white color on OnchainKit Name component */
[data-testid="name"] {
	color: #ffffff !important;
}

/* Style the Identity component container (remove unwanted dark bg) */
.identity-card-mobile {
	background: transparent !important;
	border: none !important;
	padding: 0 !important;
}

/* Make avatar larger to fill the circle better */
.identity-card-mobile [data-testid="avatar"],
.identity-card-mobile .ock-avatar {
	width: 32px !important;
	height: 32px !important;
}

/* Reduce white border visibility on avatar */
.identity-card-mobile [data-testid="avatar"] svg,
.identity-card-mobile .ock-avatar svg {
	width: 100% !important;
	height: 100% !important;
}

/* Ensure avatar fills the entire circle */
.identity-card-mobile [data-testid="avatar"] circle,
.identity-card-mobile .ock-avatar circle {
	r: 14 !important;
}

/* Target OnchainKit Avatar component specifically */
.identity-card-mobile [data-testid="avatar"] {
	transform: scale(1.2) !important;
}

/* Reduce the white border by making the inner content larger */
.identity-card-mobile [data-testid="avatar"] > div {
	width: 100% !important;
	height: 100% !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
}

/* Ensure text is white in Identity */
.identity-card-mobile * {
	color: #ffffff !important;
}

/* Fallback for address display when no ENS/Basename */
.identity-fallback {
	color: #ffffff !important;
	font-size: 14px;
	font-family: monospace;
}

.bb-identity-row { display: flex; align-items: center; gap: 12px; background: #0b1018; border: 1px solid #1e2a44; border-radius: 10px; padding: 8px 12px; }
.bb-identity-col { display: flex; flex-direction: column; line-height: 1.1; }
.bb-identity-row .ock-avatar { width: 40px; height: 40px; }
.bb-identity-row .ock-name { font-weight: 700; }
.bb-identity-row .ock-address { opacity: 0.85; }

/* Desktop-only helpers */
.desktop-br { display: none; }
@media (min-width: 769px) {
	.desktop-br { display: inline; }
	.desktop-spacer { margin-top: 24px !important; }
}

/* Subtle CTA pulse (removed) */

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
	.cta-button::before { animation: none; }
}




